import testModule from 'ava';
import numberArrayOrThrow from '../src/number-array-or-throw.js';
const { serial: test } = testModule;
test.beforeEach(() => {
    process.env = {
        ...originalEnv,
    };
});
const key = 'foo';
const originalEnv = process.env;
test('numberArrayOrThrow() > throws if a key is not defined', (t) => {
    t.throws(() => numberArrayOrThrow(key));
});
test('numberArrayOrThrow() > throws if any item is not a number', (t) => {
    process.env[key] = '0,1,2,foo';
    t.throws(() => numberArrayOrThrow(key));
});
test('numberArrayOrThrow() > reads a space separated array', (t) => {
    const separator = ' ';
    process.env[key] = '0 1 2 -1.5';
    t.deepEqual(numberArrayOrThrow(key, separator), [0, 1, 2, -1.5]);
});
test('numberArrayOrThrow() > reads a comma separated array', (t) => {
    process.env[key] = '0,1,2,-1.5';
    t.deepEqual(numberArrayOrThrow(key), [0, 1, 2, -1.5]);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnVtYmVyLWFycmF5LW9yLXRocm93LnRlc3QuanMiLCJzb3VyY2VSb290IjoiL1ZvbHVtZXMvUHJvamVjdHMvdHMtZW52LyIsInNvdXJjZXMiOlsidGVzdHMvbnVtYmVyLWFycmF5LW9yLXRocm93LnRlc3QuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxVQUFVLE1BQU0sS0FBSyxDQUFDO0FBQzdCLE9BQU8sa0JBQWtCLE1BQU0saUNBQWlDLENBQUM7QUFFakUsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsR0FBRyxVQUFVLENBQUM7QUFFcEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUU7SUFDbkIsT0FBTyxDQUFDLEdBQUcsR0FBRztRQUNaLEdBQUcsV0FBVztLQUNmLENBQUM7QUFDSixDQUFDLENBQUMsQ0FBQztBQUVILE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQztBQUNsQixNQUFNLFdBQVcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBRWhDLElBQUksQ0FBQyx1REFBdUQsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO0lBQ2xFLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMxQyxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQywyREFBMkQsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO0lBQ3RFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsV0FBVyxDQUFDO0lBQy9CLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUMxQyxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxzREFBc0QsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO0lBQ2pFLE1BQU0sU0FBUyxHQUFHLEdBQUcsQ0FBQztJQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFlBQVksQ0FBQztJQUNoQyxDQUFDLENBQUMsU0FBUyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsRUFBRSxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNuRSxDQUFDLENBQUMsQ0FBQztBQUVILElBQUksQ0FBQyxzREFBc0QsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFO0lBQ2pFLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsWUFBWSxDQUFDO0lBQ2hDLENBQUMsQ0FBQyxTQUFTLENBQUMsa0JBQWtCLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDeEQsQ0FBQyxDQUFDLENBQUMifQ==